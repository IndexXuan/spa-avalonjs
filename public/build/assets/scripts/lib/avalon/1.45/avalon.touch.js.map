{"version":3,"file":"avalon.touch.js","sources":["../../../../../../assets/scripts/lib/avalon/1.45/avalon.touch.js"],"names":["define","avalon","document","ua","navigator","userAgent","isAndroid","indexOf","isIOS","test","rdash","self","bindingHandlers","on","data","vmodels","value","four","eventType","param","replace","matched","match","trim","hasArgs","parseExprProxy","resetState","tapping","element","removeClass","fastclick","activeClass","touchstart","event","doubleIndex","doubleStartTime","Date","now","canClick","addClass","startTime","touches","length","e","touchStartX","clientX","touchStartY","clientY","touchend","changedTouches","x","y","diff","dist","Math","sqrt","pow","canDoubleClick","clickDuration","dragDistance","ghostPrevent","setTimeout","preventTime","activeElement","blur","forElement","tagName","toLowerCase","htmlFor","getElementById","focus","fireEvent","canFix","specialBind","callback","addEventListener","specialUnbind","removeEventListener","removedEventListener","markFastClick","stopPropagation","preventDefault","target","href","id","RegExp","$1","type","clickEvent","createEvent","initMouseEvent","window","screenX","screenY","dispatchEvent","this","canFocus","setSelectionRange","n","nodeName","disabled","readOnly","touchSupported","chromeVersion","exec","metaViewport","querySelector","content","documentElement","scrollWidth","outerWidth","style","msTouchAction","IE11touch","pointerEnabled","IE9_10touch","msPointerEnabled","DOC","W3CFire","el","name","detail","initEvent","fireByAvalon","swipeDirection","x1","x2","y1","y2","abs","longTap","touchProxy","last","fire","cancelHold","clearTimeout","holdTimeout","cancelAll","touchTimeout","tapTimeout","swipeTimeout","computeDistance","offsetX","offsetY","computeDegree180","degree","atan","PI","getAngleDiff","initialAngle","rotation","isPrimaryTouch","pointerType","MSPOINTER_TYPE_TOUCH","isPrimary","isPointerEventType","compute","len","firstTouch","otherTouch","disX","disY","distance","angel","_isPointerType","delta","deltaX","deltaY","touchNames","pinchThreshold","parentNode","pageX","pageY","status","changeInfo","isDoubleTap","changes","pinch","direction","each","i","item","scale","rotate","deflection"],"mappings":"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"}