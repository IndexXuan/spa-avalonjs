{"version":3,"file":"mmHistory.js","sources":["../../../../../../assets/scripts/lib/avalonRouter/1.5-before/mmHistory.js"],"names":["define","avalon","targetIsThisWindow","targetWindow","window","name","top","getFirstAnchor","list","el","i","nodeName","scrollToAnchorId","hash","document","getElementById","scrollIntoView","getElementsByName","scrollTo","anchorElement","createElement","History","this","location","started","IEVersion","mode","documentMode","XMLHttpRequest","defaults","basepath","html5Mode","hashPrefix","iframeID","interval","fireAnchor","oldIE","VBArray","supportPushState","history","supportHashChange","prototype","constructor","getFragment","fragment","monitorMode","getPath","getHash","replace","path","href","_getHash","slice","indexOf","decodeURIComponent","pathname","search","root","length","_getAbsolutePath","a","hasAttribute","getAttribute","start","options","checkUrl","iframe","that","pageHash","iframeHash","_setIframeHistory","prefix","fireRouteChange","fromHistory","Error","mix","log","rootpath","html","domain","iframeHTML","ready","src","style","display","tabIndex","body","appendChild","contentWindow","bind","_fireLocationChange","setInterval","router","navigate","setLastPath","stop","unbind","clearInterval","updateLocation","urlHash","rp","st","silent","split","title","newHash","_setHash","idoc","open","write","close","event","defaultPrevented","returnValue","ctrlKey","metaKey","which","target","parentNode","tagName","trim","preventDefault","setTimeout"],"mappings":"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"}