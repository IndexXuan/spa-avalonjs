{"version":3,"file":"mmHistory.js","sources":["../../../../../../assets/scripts/lib/avalonRouter/1.5-new/mmHistory.js"],"names":["define","avalon","targetIsThisWindow","targetWindow","window","name","top","getFirstAnchor","list","el","i","nodeName","scrollToAnchorId","hash","document","getElementById","scrollIntoView","getElementsByName","scrollTo","anchorElement","createElement","History","this","location","started","IEVersion","mode","documentMode","XMLHttpRequest","defaults","basepath","html5Mode","hashPrefix","iframeID","interval","fireAnchor","routeElementJudger","noop","oldIE","VBArray","supportPushState","history","supportHashChange","prototype","constructor","getFragment","fragment","monitorMode","getPath","getHash","replace","path","href","_getHash","slice","indexOf","decodeURIComponent","pathname","search","root","length","_getAbsolutePath","a","hasAttribute","getAttribute","start","options","checkUrl","iframe","that","pageHash","iframeHash","_setIframeHistory","prefix","fireRouteChange","fromHistory","Error","mix","log","rootpath","html","domain","iframeHTML","ready","src","style","display","tabIndex","body","appendChild","contentWindow","bind","_fireLocationChange","setInterval","router","navigate","setLastPath","stop","unbind","clearInterval","updateLocation","urlHash","rp","st","silent","split","title","newHash","_setHash","idoc","open","write","close","event","defaultPrevented","returnValue","ctrlKey","metaKey","which","target","parentNode","tagName","trim","preventDefault"],"mappings":"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"}