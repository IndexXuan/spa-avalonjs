<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title ms-text="title"></title>
    <link rel="stylesheet" href="../assets/styles/microsite/article.css?v=1.1.1.1" />
    <style>
    * {
        margin: 0;
        padding: 0;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
    }

    input,
    textarea,
    button,
    select,
    div,
    img,
    a {
        outline: 0 none; /* mark! key! remove outline */
        -webkit-tap-highlight-color: transparent;
        /* remove touch outline */
    }
    
    html {
        font-size: 100px;
    }
    
    body {
        font-size: .14rem;
    }
    
    [ms-controller] {
        visibility: hidden;
    }
    
    img {
        display: block;
        max-width: 100%;
        height: auto;
    }
    
    
    .loading-with-dot {
        display: inline-block;
        width: 10px; 
        min-height: 2px;
        padding-right: 2px;
        border-left: 2px solid currentColor; 
        border-right: 2px solid currentColor;   
        background-color: currentColor; 
        background-clip: content-box;
        box-sizing: border-box;
        -webkit-animation: dot 4s infinite step-start both;
        animation: dot 4s infinite step-start both;
                   *zoom: expression(this.innerHTML = '...'); /* IE7 */

                   &:before { content: '...'; } /* IE8 */
                   &::before { content: ''; }
               }

               :root .loading-with-dot { margin-left: 2px; padding-left: 2px; } /* IE9+ */

               @-webkit-keyframes dot {
                   25% { border-color: transparent; background-color: transparent; }          /* zero point */
                   50% { border-right-color: transparent; background-color: transparent; }    /* one point */
                   75% { border-right-color: transparent; }                                   /* two points */
               }

               @keyframes dot {
                   25% { border-color: transparent; background-color: transparent; }          /* zero point */
                   50% { border-right-color: transparent; background-color: transparent; }    /* one point */
                   75% { border-right-color: transparent; }                                   /* two points */
               }
    .loading-text {
        position: fixed;
        margin: auto;
        left: 0;
        top: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        height: .22rem;
        text-align: center;
    }

    .hide {
        display: none;
    }
    
    .icon {
        background-size: 100%;
        position: relative;
        top: 5px;
        margin-right: 3px;
    }
    /* import yo: list & btn & input start */
    
    .yo-list > .label,
    .yo-list > .item,
    .yo-list .front {
        display: -webkit-box;
        display: -webkit-flex;
        display: flex;
        -webkit-box-align: center;
        -webkit-align-items: center;
        align-items: center;
        -webkit-transform: translatez(0);
        transform: translatez(0);
    }
    
    .yo-list > .label > .mark:not(:last-child),
    .yo-list > .label > .yo-ico:not(:last-child),
    .yo-list > .item > .mark:not(:last-child),
    .yo-list > .item > .yo-ico:not(:last-child),
    .yo-list .front > .mark:not(:last-child),
    .yo-list .front > .yo-ico:not(:last-child) {
        margin-right: .1rem;
    }
    
    .yo-list > .label > .flex,
    .yo-list > .item > .flex,
    .yo-list .front > .flex {
        -webkit-box-flex: 1;
        -webkit-flex: 1;
        flex: 1;
        width: .1px;
    }
    
    .yo-list > .label > .mark,
    .yo-list > .label > .yo-ico,
    .yo-list > .label > .col,
    .yo-list > .label > .flex,
    .yo-list > .item > .mark,
    .yo-list > .item > .yo-ico,
    .yo-list > .item > .col,
    .yo-list > .item > .flex,
    .yo-list .front > .mark,
    .yo-list .front > .yo-ico,
    .yo-list .front > .col,
    .yo-list .front > .flex {
        display: block;
    }
    
    .yo-list > .label.tr,
    .yo-list > .item.tr,
    .yo-list .front.tr {
        padding: 0;
    }
    
    .yo-list > .label {
        padding: 0.03rem 0.1rem;
        border: 1px solid #eee;
        border-width: 0 0 1px 0;
        background-color: #fafafa;
        color: #666;
        font-size: 0.13rem;
        font-weight: normal;
    }
    
    .yo-list > .label > .col {
        padding: 0.03rem 0.1rem;
    }
    
    .yo-list > .label:not(:first-child) {
        border-width: 1px 0;
        margin-top: -1px;
    }
    
    .yo-list > .item,
    .yo-list .front {
        padding: 0.11rem 0.1rem 0.12rem;
    }
    
    .yo-list > .item {
        background-color: #fff;
        color: #212121;
        font-size: 0.14rem;
        background-image: -webkit-linear-gradient(#ddd, #ddd);
        background-image: linear-gradient(#ddd, #ddd);
        -webkit-background-size: 100% 1px;
        background-size: 100% 1px;
        background-repeat: no-repeat;
        background-position: 0.1rem bottom;
    }
    
    .yo-list > .item:last-child {
        margin-bottom: -1px;
        background-image: -webkit-linear-gradient(#ccc, #ccc);
        background-image: linear-gradient(#ccc, #ccc);
        background-position: 0 bottom;
    }
    
    .yo-list > .item-stacked {
        display: block;
    }
    
    .yo-list > .item-stacked > .mark {
        padding-bottom: .05rem;
    }
    
    .yo-list > .item-input > .yo-input {
        height: auto;
        padding: 0;
        border: 0;
    }
    
    .yo-list > .item.item-active:active,
    .yo-list > .item.item-light {
        background-color: #f8f8f8;
    }
    
    .yo-list > .item > .col {
        padding: 0.11rem 0.1rem 0.12rem;
    }
    
    .yo-list > .yo-slidermenu {
        display: block;
        padding: 0 0 1px 0 !important;
    }
    
    .yo-list-inset {
        margin: 0.2rem 0.1rem 0 0.1rem;
        border-radius: 0.02rem;
        border-width: 1px;
        border-color: #ccc;
        border-style: solid;
    }
    
    .yo-list-group > .label {
        padding: 0.18rem 0.1rem 0.03rem;
        border-color: #ccc;
        background-color: transparent;
    }
    
    .yo-list-group > .label > .col {
        padding: 0.18rem 0.1rem 0.03rem;
    }
    
    .m-list > .yo-list-group .yo-btn:not(:first-child) {
        margin-left: .1rem;
    }
    
    .m-list .mark img {
        width: 0.6rem;
        height: 0.6rem;
    }
    
    .m-list .title {
        padding: 0.18rem 0.1rem 0.03rem;
        border-bottom: 1px solid #ccc;
    }
    
    .m-desc {
        margin: .1rem;
        padding-bottom: .05rem;
        border-radius: .05rem;
        background-color: #ddd;
    }
    
    .m-desc > .title {
        padding: 0.18rem 0.1rem 0.03rem;
        border-bottom: 1px solid #ccc;
    }
    
    .m-desc > xmp {
        margin: .1rem;
        padding: .1rem;
        background-color: #666;
        color: #fff;
    }
    
    .m-desc .sub-title {
        margin: 0 0.1rem;
        padding: 0.1rem 0 0.03rem;
        border-bottom: 1px solid #ccc;
    }
    
    .m-desc .sub-title::before {
        margin-right: .05rem;
        padding: 0 0.03rem;
        border-radius: .03rem;
        content: "Note";
        font-weight: normal;
        background-color: #f9c027;
        color: #fff;
    }
    
    .m-desc .info {
        margin: .1rem;
    }
    
    .m-code {
        -webkit-user-select: text;
        user-select: text;
        margin: .1rem;
        padding: .1rem;
        border-radius: 5px;
        background: #272822;
        color: #51bbe1;
        font-size: .2rem;
    }
    
    .m-code .method {
        color: #93de08;
    }
    
    .m-code .bracket,
    .m-code .colon {
        padding-right: 5px;
        color: #fff;
    }
    
    .m-code mark {
        color: #ccc;
        font-size: .14rem;
    }
    
    .m-code .version {
        background-color: #fff;
        color: red;
        font-size: .12rem;
        border-radius: .02rem;
        padding: 0 0.02rem;
    }
    
    .yo-btn {
        display: inline-block;
        overflow: hidden;
        padding: 0 1.2em;
        vertical-align: top;
        border-width: 1px;
        border-style: solid;
        border-color: #e26704;
        border-radius: 0.02rem;
        -webkit-background-clip: padding-box !important;
        background-clip: padding-box !important;
        background-color: #ff801a;
        color: #fff;
        text-align: center;
        cursor: pointer;
    }
    
    .yo-btn-disabled {
        opacity: 1;
        cursor: not-allowed;
    }
    
    .yo-btn-disabled,
    .yo-btn-disabled:focus,
    .yo-btn-disabled:active {
        border-color: #ccc;
        background-color: #e0e0e0;
        color: #bbb;
    }
    
    .yo-btn-s {
        height: 0.28rem;
        line-height: 0.28rem;
        font-size: 0.12rem;
    }
    
    .yo-btn-m {
        height: 0.36rem;
        line-height: 0.36rem;
        font-size: 0.14rem;
    }
    
    .yo-btn-l {
        height: 0.44rem;
        line-height: 0.44rem;
        font-size: 0.16rem;
    }
    
    .yo-btn-stacked {
        display: block;
        width: 100%;
    }
    
    .yo-btn-light {
        border-color: #ddd;
        background-color: #fff;
        color: #212121;
    }
    
    .yo-btn-info {
        border-color: #0456e2;
        background-color: #4a87ee;
    }
    
    .yo-input {
        width: 100%;
        height: 0.44rem;
        padding: 0.1rem;
        border: 1px solid #ccc;
        border-radius: 0.02rem;
        -webkit-background-clip: padding-box !important;
        background-clip: padding-box !important;
        background-color: transparent;
        vertical-align: top;
    }
    
    .yo-input,
    .yo-input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        appearance: none;
    }
    
    .yo-input::-webkit-input-placeholder {
        color: #bbb;
    }
    /* import yo: list & btn & input end */
    
    /* rewrite area start, take care */

    .content a {
        color: #999999;
    }

    .created-time {
        color: #999999;
    }

    .detail .count {
        vertical-align: middle;
    }

    .icon {
        width: .16rem;
        height: .16rem;
        display: inline-block;
        vertical-align: middle;
        background-size: 100%;
        background-repeat: no-repeat;
    }
    
    .icon-like {
        position: relative;
        top: -3px;
    }
    
    .pageinfo {
        position: relative;
        top: -26px;
    }
    
    .sign-btn {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        display: inline-block;
        border: none;
        border-radius: 0;
    }
    
    .activity-info-form {
        margin-bottom: .1rem;
        position: fixed;
        left: 0;
        bottom: -10px;
        width: 100%;
    }

    .detail .task-helper-btn { /* share to wx-timeline */
        margin-bottom: 20px!important;
    }

    /* rewrite area, take care */

    </style>
</head>

<body>

    <div class="loading-text">家校云努力奔跑中<span class="loading-with-dot"></span></div>
    
    <div ms-controller="activity" class="detail">

        <h2 class="title">{{theme}}</h2>

        <div class="count visit-count"><span>阅读</span>{{visitCount}}</div>
        <div class="count share-count"><span>分享</span>{{shareCount}}</div>
        <div class="count like-count"><span>喜欢</span>{{likeCount}}</div>
        <div class="created-time">活动时间: {{startTime | date()}} - {{endTime | date()}}</div>

        <div class="content">{{content | html}}</div>

        <div class="task-helper-btn" ms-click="showShareMask">分享到朋友圈</div>
        <div class="shareMask" ms-click="hideShareMask">
            <img ms-attr-src="resourcePrefix + '/shareMask-top.png'" />
            <p class="task-shareMask-tip-text hide">分享领积分</p>
            <img class="wxShareIcon" ms-attr-src="resourcePrefix + '/shareMask-wxShare-icon.png'" />
            <img ms-attr-src="resourcePrefix + '/shareMask-adText.png'" />
            <div class="iKnow" ms-click="hideShareMask">朕知道了</div>
            <img class="shareMaskBottom" ms-attr-src="resourcePrefix + '/shareMask-bottom.png'" />

        </div>

        <ul class="pageinfo list">
            <li class="visit" ms-click="showShareMask">阅读 {{visitCount}}</li>
            <li class="share" ms-click="showShareMask" ms-if="isShared != true">分享 {{shareCount}}</li>
            <li class="share" ms-click="showShareMask" ms-if="isShared == true">分享 {{shareCount}} (+1)</li>
            <div class="like" ms-click="like" ms-if="!hasLiked">赞<i class="icon icon-like" ms-class-1="hasLiked: hasLiked == true"></i><span class="like-num" ms-class-1="like-num-update: hasLiked == true">{{likeCount}}</span></div>
            <div class="like" ms-if="hasLiked == true">赞<i class="icon icon-like hasLiked"></i><span class="like-num" ms-class-1="like-num-update: hasLiked == true">{{likeCount}}</span></div>
            <div class="report" ms-click="report">举报</div>
        </ul>

        <div class="infoCollect-wrapper">
            <div class="sign-up-btn-wrapper">
                <div class='sign-btn yo-btn yo-btn-info yo-btn-m' ms-if="!isDone && !isCancel && !isFilling" ms-click="filling()">我要报名</div>
                <div class='sign-btn yo-btn yo-btn-info yo-btn-m' ms-if="!isDone && isCancel && !isFilling" ms-click="filling()">差一点就成功了, 点我报名!</div>
                <div class='sign-btn yo-btn yo-btn-m' ms-if="isDone">报名成功</div>
            </div>
            <div class="activity-info-form yo-list yo-list-group" ms-if="isFilling">
                <p class="activity-info-form-title">请填写报名信息</p>
                <label class="item item-input item-stacked" ms-repeat-item="infoCollect">
                    <span class="hide">{{CopyinfoCollect[$index]}}</span>
                    <input type="text" class="yo-input" ms-duplex-string="item" ms-attr-placeholder="CopyinfoCollect[$index]" />
                </label>
                <div class="yo-btn yo-btn-info yo-btn-m" ms-click="pushInfo()">确定</div>
                <div class="yo-btn yo-btn-light yo-btn-m" ms-click="cancel()">取消</div>
            </div>
        </div>

    </div>
</body>
<script src="../assets/scripts/lib/avalon/1.45/avalon.js"></script>
<script>
avalon.config({
    debug: false 
});

require.config({
    baseUrl: "./js"
});

require(['./staticActivity.js?v=1.1.1.1'], function(page) {
    page && page.init && page.init();
});
</script>

</html>
